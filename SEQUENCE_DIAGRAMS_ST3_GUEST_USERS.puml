!theme plain

skinparam sequenceMessageAlign center
skinparam sequenceArrowThickness 2
skinparam sequenceLifeLineBorderColor #000000
skinparam sequenceActorBorderColor #1976D2
skinparam sequenceParticipantBorderColor #424242

' ========================================
' Use Case 1: Browse VetVoge
' ========================================
@startuml UC1_BrowseVetVoge
!theme plain
skinparam sequenceMessageAlign center
skinparam sequenceArrowThickness 2
title UC1: Browse VetVoge

actor Guest as "Guest User"
participant "VetVoge Landing Page" as LandingPage
participant "Analytics API" as AnalyticsAPI
participant "localStorage" as Storage

Guest -> LandingPage: Navigate to root URL (/)
activate LandingPage
LandingPage -> Storage: Generate/read session ID
activate Storage
Storage --> LandingPage: Return session ID
deactivate Storage
LandingPage -> AnalyticsAPI: Track page view
activate AnalyticsAPI
AnalyticsAPI --> LandingPage: Page view recorded
deactivate AnalyticsAPI
LandingPage --> Guest: Display VetVoge marketplace\n(header, hero, sections)
deactivate LandingPage
@enduml

' ========================================
' Use Case 2: View Clinic Cards
' ========================================
@startuml UC2_ViewClinicCards
!theme plain
skinparam sequenceMessageAlign center
skinparam sequenceArrowThickness 2
title UC2: View Clinic Cards

actor Guest as "Guest User"
participant "VetVoge Landing Page" as LandingPage

Guest -> LandingPage: Scroll to clinics section
activate LandingPage
LandingPage --> Guest: Display clinic cards\n(name, location, specialties, description, link)
deactivate LandingPage
@enduml

' ========================================
' Use Case 3: View Clinic Landing Page
' ========================================
@startuml UC3_ViewClinicLandingPage
!theme plain
skinparam sequenceMessageAlign center
skinparam sequenceArrowThickness 2
title UC3: View Clinic Landing Page

actor Guest as "Guest User"
participant "Clinic Landing Page" as ClinicPage

Guest -> ClinicPage: Click clinic card or navigate to /clinic/eagles
activate ClinicPage
ClinicPage --> Guest: Display clinic page\n(hero, services, staff, contact)\nwith clinic header
deactivate ClinicPage
@enduml

' ========================================
' Use Case 4: View Pet Adoption Listings
' ========================================
@startuml UC4_ViewPetAdoptionListings
!theme plain
skinparam sequenceMessageAlign center
skinparam sequenceArrowThickness 2
title UC4: View Pet Adoption Listings

actor Guest as "Guest User"
participant "VetVoge Landing Page" as LandingPage
participant "API: /api/adoptions" as AdoptionAPI
database "Database" as DB

Guest -> LandingPage: Navigate to adoption section
activate LandingPage
LandingPage -> AdoptionAPI: GET /api/adoptions?status=active
activate AdoptionAPI
AdoptionAPI -> DB: Query active adoptions (limit 50)
activate DB
DB --> AdoptionAPI: Return adoption listings
deactivate DB
AdoptionAPI --> LandingPage: Return adoption data
deactivate AdoptionAPI
LandingPage --> Guest: Display adoption cards\nwith image carousel and clickable phone
deactivate LandingPage
@enduml

' ========================================
' Use Case 5: Post Pet for Adoption
' ========================================
@startuml UC5_PostPetForAdoption
!theme plain
skinparam sequenceMessageAlign center
skinparam sequenceArrowThickness 2
title UC5: Post Pet for Adoption

actor Guest as "Guest User"
participant "Adoption Form" as AdoptionForm
participant "API: /api/upload" as UploadAPI
participant "API: /api/adoptions" as AdoptionAPI
database "Database" as DB

Guest -> AdoptionForm: Fill adoption form\n(name, description, phone, area, images)
activate AdoptionForm
AdoptionForm -> UploadAPI: POST /api/upload (for each image)
activate UploadAPI
UploadAPI --> AdoptionForm: Return image URLs
deactivate UploadAPI

AdoptionForm -> AdoptionAPI: POST /api/adoptions
activate AdoptionAPI
AdoptionAPI -> DB: Create adoption record (status=active)
activate DB
DB --> AdoptionAPI: Return created adoption
deactivate DB
AdoptionAPI --> AdoptionForm: Return adoption data
deactivate AdoptionAPI

AdoptionForm --> Guest: Display success message\nand refresh listings
deactivate AdoptionForm
@enduml

' ========================================
' Use Case 6: Upload Pet Images
' ========================================
@startuml UC6_UploadPetImages
!theme plain
skinparam sequenceMessageAlign center
skinparam sequenceArrowThickness 2
title UC6: Upload Pet Images

actor Guest as "Guest User"
participant "Adoption Form" as AdoptionForm
participant "API: /api/upload" as UploadAPI

Guest -> AdoptionForm: Select image files
activate AdoptionForm
AdoptionForm -> AdoptionForm: Validate file type and size
AdoptionForm -> UploadAPI: POST /api/upload
activate UploadAPI
UploadAPI --> AdoptionForm: Return image URLs
deactivate UploadAPI
AdoptionForm -> AdoptionForm: Display image previews
AdoptionForm --> Guest: Show uploaded images
deactivate AdoptionForm
@enduml

' ========================================
' Use Case 7: Browse Products
' ========================================
@startuml UC7_BrowseProducts
!theme plain
skinparam sequenceMessageAlign center
skinparam sequenceArrowThickness 2
title UC7: Browse Products

actor Guest as "Guest User"
participant "Shop Page" as ShopPage
participant "API: /api/products" as ProductAPI
database "Database" as DB

Guest -> ShopPage: Navigate to shop page
activate ShopPage
ShopPage -> ProductAPI: GET /api/products?page=1
activate ProductAPI
ProductAPI -> DB: Query products
activate DB
DB --> ProductAPI: Return products list
deactivate DB
ProductAPI --> ShopPage: Return products
deactivate ProductAPI
ShopPage --> Guest: Display product cards
deactivate ShopPage
@enduml

' ========================================
' Use Case 8: View Product Details
' ========================================
@startuml UC8_ViewProductDetails
!theme plain
skinparam sequenceMessageAlign center
skinparam sequenceArrowThickness 2
title UC8: View Product Details

actor Guest as "Guest User"
participant "Product Page" as ProductPage
participant "API: /api/products/[slug]" as ProductAPI
database "Database" as DB

Guest -> ProductPage: Click on product card
activate ProductPage
ProductPage -> ProductAPI: GET /api/products/[slug]
activate ProductAPI
ProductAPI -> DB: Query product details
activate DB
DB --> ProductAPI: Return product data
deactivate DB
ProductAPI --> ProductPage: Return product details
deactivate ProductAPI
ProductPage --> Guest: Display product details\n(images, price, description, stock)
deactivate ProductPage
@enduml

' ========================================
' Use Case 9: Add to Cart
' ========================================
@startuml UC9_AddToCart
!theme plain
skinparam sequenceMessageAlign center
skinparam sequenceArrowThickness 2
title UC9: Add to Cart

actor Guest as "Guest User"
participant "Product Page" as ProductPage
participant "Recoil Cart State" as CartState

Guest -> ProductPage: Click "Add to Cart"
activate ProductPage
ProductPage -> CartState: Add product to cart
activate CartState
CartState --> ProductPage: Cart updated
deactivate CartState
ProductPage -> ProductPage: Update cart count in header
ProductPage --> Guest: Display success message
deactivate ProductPage
@enduml

' ========================================
' Use Case 10: Checkout as Guest
' ========================================
@startuml UC10_CheckoutAsGuest
!theme plain
skinparam sequenceMessageAlign center
skinparam sequenceArrowThickness 2
title UC10: Checkout as Guest

actor Guest as "Guest User"
participant "Checkout Page" as CheckoutPage
participant "Recoil Cart State" as CartState

Guest -> CheckoutPage: Navigate to checkout
activate CheckoutPage
CheckoutPage -> CartState: Read cart items
activate CartState
CartState --> CheckoutPage: Return cart items
deactivate CartState
Guest -> CheckoutPage: Fill customer information\nselect delivery method and payment
CheckoutPage --> Guest: Display checkout form\nwith order summary
deactivate CheckoutPage
@enduml

' ========================================
' Use Case 11: Place Order
' ========================================
@startuml UC11_PlaceOrder
!theme plain
skinparam sequenceMessageAlign center
skinparam sequenceArrowThickness 2
title UC11: Place Order

actor Guest as "Guest User"
participant "Checkout Page" as CheckoutPage
participant "Recoil Cart State" as CartState
participant "API: /api/orders" as OrderAPI
database "Database" as DB

Guest -> CheckoutPage: Click "Place Order"
activate CheckoutPage
CheckoutPage -> CheckoutPage: Validate form data
CheckoutPage -> OrderAPI: POST /api/orders
activate OrderAPI
OrderAPI -> DB: Create order (status=pending)
activate DB
DB --> OrderAPI: Return created order
deactivate DB
OrderAPI -> DB: Decrease product stock
activate DB
DB --> OrderAPI: Stock updated
deactivate DB
OrderAPI --> CheckoutPage: Return order confirmation
deactivate OrderAPI

CheckoutPage -> CartState: Clear cart
activate CartState
deactivate CartState
CheckoutPage --> Guest: Redirect to success page
deactivate CheckoutPage
@enduml

